<!DOCTYPE html>
<html lang="en">
<head th:replace="fragments/head" />
<body>
	<!-- Barra de Navegación superior -->
	<nav th:replace="fragments/nav" />
	<div class="container">
		<h2>Agregar consulta</h2>
		<form class="form-horizontal" method="post" action="/query/add" th:object="${query}">
			<div class="form-group">
				<label class="control-label col-sm-2" for="name">Nombre:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" name="name"
						placeholder="..." required="true" /> <span
						class="text-danger" th:if="${#fields.hasErrors('name')}"
						th:errors="*{name}" />
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" for="description">Descripción:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" name="description"
						placeholder="..." required="true" /> <span
						class="text-danger" th:if="${#fields.hasErrors('description')}"
						th:errors="*{description}" />
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" for="queryText">Query:</label>
				<div class="col-sm-10">
					<textarea class="form-control" name="queryText" rows="10" spellcheck="false"></textarea>
					<span class="text-danger" th:if="${#fields.hasErrors('queryText')}" th:errors="*{queryText}" />
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" for="publicForAll">Visibilidad:</label>
				<div class="col-sm-1">
					<input type="checkbox" class="form-control" name="publicForAll" data-toggle="toggle" th:data-on="#{public}" th:data-off="#{private}">
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" for="publicTo">Visible para:</label>
				<div class="col-sm-10">
					<select multiple class="form-control" name="publicTo" th:field="${usersList}">
						<option th:each="user : ${usersList}" 
							th:value="${user}"
							th:text="${user.name}">
						</option>
					</select>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit" class="btn btn-primary">Enviar</button>
				</div>
			</div>
		</form>
	</div>
	<footer th:replace="fragments/footer" />
</body>
</html>
