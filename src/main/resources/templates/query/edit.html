<!DOCTYPE html>
<html th:lang="${#locale}">
<head th:replace="fragments/head" />
<body>
	<!-- Barra de Navegación superior -->
	<nav th:replace="fragments/nav" />
	<div class="container">
		<div class="display-4 px-3 py-3 pt-md-5 pb-md-4 text-center">
  			<h1 class="display-4" th:text="#{query.edit.title}">Editar consulta</h1>
 			<p class="lead" th:text="*{analysis.name}"></p>
		</div>
		<form class="form-horizontal wb-cont" method="post" th:action="${'/query/edit/' + analysis.id}" th:object="${analysis}">
			<div class="form-group">
				<label class="control-label col-sm-12" for="description" th:text="#{description}">Descripción:</label>
				<div class="col-sm-12">
					<textarea type="text" class="form-control" name="description" th:title="#{tooltip.required}" rows="3"
						required="true" th:text="*{description}"/></textarea>
					<span class="text-danger" th:if="${#fields.hasErrors('description')}"
						th:errors="*{description}" />
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-12" for="queryText" th:text="#{query}">Query:</label>
				<div class="col-sm-12">
					<textarea id="queryEditor" class="form-control" name="queryText" rows="10" spellcheck="false" th:text="*{queryText}" th:title="#{tooltip.required}"></textarea>
					<span class="text-danger" th:if="${#fields.hasErrors('queryText')}" th:errors="*{queryText}" />
				</div>
			</div>
			<div class="form-check mb-3 ml-3">
				<input class="form-check-input" type="checkbox" id="publicForAll" name="publicForAll" th:checked="*{publicForAll}" >
				<label class="form-check-label" for="publicForAll" th:text="#{public}">Pública</label>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-12">
					<button type="submit" class="btn btn-primary" th:text="#{save}">Guardar</button>
				</div>
			</div>
		</form>
		<script src="/script/queryEdit.js" type="text/javascript"></script>
	</div>
	<footer th:replace="fragments/footer" />
</body>
</html>
