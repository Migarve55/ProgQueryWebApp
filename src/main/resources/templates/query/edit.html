<!DOCTYPE html>
<html lang="en">
<head th:replace="fragments/head" />
<body>
	<!-- Barra de Navegación superior -->
	<nav th:replace="fragments/nav" />
	<div class="container mt-3">
		<h2 th:text="#{query.edit.title} + ' ' + ${query.name}">Editar consulta</h2>
		<form class="form-horizontal" method="post" th:action="${'/query/edit/' + query.id}" th:object="${query}">
			<div class="form-group">
				<label class="control-label col-sm-2" for="description" th:text="#{description}">Descripción:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" name="description"
						placeholder="..." required="true" th:value="*{description}"/> <span
						class="text-danger" th:if="${#fields.hasErrors('description')}"
						th:errors="*{description}" />
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" for="queryText" th:text="#{query}">Query:</label>
				<div class="col-sm-10">
					<textarea class="form-control" name="queryText" rows="10" spellcheck="false" th:text="*{queryText}"></textarea>
					<span class="text-danger" th:if="${#fields.hasErrors('queryText')}" th:errors="*{queryText}" />
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2" for="publicForAll" th:text="#{visibility}">Visibilidad:</label>
				<div class="col-sm-1">
					<input id="togglePublic" type="checkbox" class="form-control" name="publicForAll" data-toggle="toggle" th:data-on="#{public}" th:data-off="#{private}">
				</div>
				<script th:inline="javascript">
					/*<![CDATA[*/
					var publicForAll = [[*{publicForAll}]]; 
					$('#togglePublic').bootstrapToggle(publicForAll ? 'on' : 'off');
					/*]]>*/
				</script>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit" class="btn btn-primary" th:text="#{save}">Guardar</button>
				</div>
			</div>
		</form>
	</div>
	<footer th:replace="fragments/footer" />
</body>
</html>
